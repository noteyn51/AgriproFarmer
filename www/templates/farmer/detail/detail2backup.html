<ion-view hide-back-button="false" cache-view="true">
  <ion-nav-title> รายละเอียด
  </ion-nav-title>

  <div class="tabs-striped tabs-color-assertive tabs-top ">
    <div class="tabs" >

      <a class="tab-item active" style="color:black;overflow: initial">
        <b style="font-size: 13pt;position:relative;top: 10px;">รายละเอียด</b>
      </a>
      <a class="tab-item" style="color:darkgray;overflow: initial;" ng-click="vm.action()">
        <b style="font-size: 13pt;position:relative;    top: 10px;">กิจกรรม</b>
      </a>
      <a class="tab-item" style="color:darkgray;overflow: initial;" ng-click="vm.record()">
        <b style="font-size: 13pt;position:relative;    top: 10px;">การเจริญเติบโต</b>
      </a>
      
   
      

    </div>
  </div>
  <ion-content style="background:#f5f5f5;margin-top: 49px;" scroll="false">


    <div class=" list" style="height:100%;  box-shadow: 0 0.1px 3px rgba(0, 0, 0, 0.4);">


      <div class="list" style="border-radius: 10px;    box-shadow: 0 0.1px 3px rgba(0, 0, 0, 0.4);"
        ng-if="subfarm.length == 0">
        <div class="item " style="text-align: center">
          <h2 style="color:red">*ยังไม่มีการเพิ่มแปลง</h2>
        </div>
      </div>





      <ion-scroll class="scrollable" direction="y" style="height: calc(100% - 0px)">
        <div class="card" style="height:110px;display: flex;margin:20px 5px;
        flex-flow: row wrap;" ng-click="vm.listmap()">

          <div style="height: 100%;
                width: 30%;">

            <div id="mapbbb"></div>
          </div>

          <div style="height: 100%; width: 70%;display: flex;
          flex-direction: column;
          justify-content: center;
          align-items: center;" >
    
            <div style="font-weight:bold;font-weight: bold;
            font-size: 18px;">พื้นที่ {{crop.farm_name}} แปลงที่ {{subDetail.sup_sub_id}}</div>
            <div> {{subDetail.sub_area_farm}} ไร่ {{subDetail.sub_area_work}} งาน {{subDetail.sub_area_wah}} ตารางวา</div>
         
    
      
          </div>
    

        </div>
        <div class="item" style="padding: 0;">
          <div style="    padding-left: 10px;
          padding-top: 10px;
      ">JOB-ID</div>
          <div layout="column" layout-align="center center">

            <md-select placeholder="เลือก ID JOB" ng-model="model.job" ng-change="vm.jobChange(model.job)" style="width: 95%;">
              <md-option ng-value="k" ng-repeat="k in jobID">{{k.wo_lot}} </md-option>
            </md-select>

          </div>

        </div>

        <div class="item " ng-if="subfarm.length >0" style="background:#f5f5f5;padding: 0px;
          ">

          <div class="item item-text-wrap">
            <b>{{crop.farm_name}} แปลงที่ {{subDetail.sup_sub_id}}</b>

            <p> <img
                ng-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACkwAAApMBv+Bu1wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAM3SURBVFiF7ZRPaBxlGMZ/78SZrO5poZWSghcv9V8l9mKgl5I29dJAhaWpSLtWZ3YM5BB6KT0NqD1oacC97M4EOtBioxE8iNJWaKEqIvgHtAaR3izElhIKweruZOf1kEmZbnayI25P5r18M9/7fM/zfO/3fh9sxv895N8uKJfLVqlUeg14A3gymb4hIrOqetb3/eihGXBdd3scx58Cw13JRL5X1QO+7y/m5TTyAiuVSiGO488T8d+Ag8BWYKuqvgzcUNVdwGflctnKy/tIXqBlWW8CO4FfW63WSBiGd1PpTyqVylXLsr4Fhkulkgu8n4c3dwWAVwBE5EQiLrZtT1Sr1UOAhGF4V1VPpLH9NrADIIqiKwCO4xwWkQuqOmfb9qHE3JUE+9TDMNAEKBQKRQBVvd/AhmEIwMrKSjGN7beBHwHa7fY4QBAEH6jqYRGZaDQacwCmaY4DiMgPeUlzNyFwHtgLOEAAaBAEc6m8qKqdwuaK3BUoFosfAbdVdZdt2wc689VqdRx4Afij2Wx+3HcDMzMzfwGnAUTklOd599d6nmeo6jvJ7+kwDP/Oy5v5EjqOcxPYnrlw9ew/BLBte0JELmyg87vv+0/kNuA4znPATxsQAtyJouhpANM0F4AtG4FV9dkgCH7pnM9qwtFkPOf7/pF0wvM8Y3Fx8WtVfdE0zVPJddwCfDM0NLTb87y4YzPngFdFZBRYZyCrB8YS1190JjzPi0XEBlrA6yJyDGipqt0pDiAiaxxj3YTWGZienn4U2APowMDApW6L6vX6deBtVo9QROStbuUFaLfblwAF9kxNTQ32NLC8vDwCFICf6/X67W6kAIODg+8CC8CCZVnvZeFmZ2dvAdeBx6IoGulpwDCMfaxu63IWKUCtVmuKyNE4jo/UarVeT+9lAFVddwzdmvClZLzYg5RGo/FdL0wifFFEjqvqfuBkOvdABSYnJ7cBzwN/Li0tfZmHPE9EUfQVcA8Ydl338UwDURSNstpY1+bn51v9MpC8jNcAieN4b6YBEdmXfK67fv811q5jSgN4sAcE2J98n3Ec50w/Dajq2jiWaCmkKuC67jPAtn6KZsRQorUZmwHAPylaJT32wwBUAAAAAElFTkSuQmCC"
                style="
                top: 3px;
                position: relative;
                height: 20px;
                width: 20px;
                "> {{subDetail.sub_area_farm}} ไร่ {{subDetail.sub_area_work}} งาน {{subDetail.sub_area_wah}} ตารางวา
            </p>
            <p>ที่ตั้ง : {{crop.farm_village}} หมู่ที่ {{crop.farm_village_no}} จังหวัด {{crop.farm_province}}
              อ. {{crop.farm_amphur}} ต. {{crop.farm_district}}</p>


            <div style="position:relative;">
              <button type="button" class="button button-positive icon ion-plus-round" style=" top:-10px;   position: absolute;
    z-index: 1000;
    right: -10px;
    min-width: 40px;
    min-height: 40px;
    border-radius: 50%;
    " ng-click="vm.addPic($event)"></button>


              <style type="text/css">
                div.img-resize img {
                  width: 300px;
                  height: auto;
                }

                div.img-resize {
                  width: auto;
                  height: 300px;
                  overflow: hidden;
                  text-align: center;
                }

              </style>

              <ion-slide-box show-pager="true" active-slide="activeSlide"
                style="text-align:center;height:100%;width:100%;margin-top:20px">



                <ion-slide ng-repeat="x in imgsrc.result" ng-if="imgsrc.status == true" ng-click="showImages($index)">

                  <div class="img-resize"><img ng-src="{{x.path}}" /></div>


                </ion-slide>

                <ion-slide style="text-align: left;border:solid;height:350px" ng-repeat="x in imgsrc.result"
                  ng-if="imgsrc.status == false">
                  <button type="button" class="button icon ion-refresh" style="background: transparent;"
                    ng-click="vm.picRefresh()"></button>

                  <img style="width:100%;height:100%" ng-src="{{x.path}}">

                </ion-slide>

              </ion-slide-box>
            </div>

            <br>

            <b>การเพาะปลูก</b>
            <div ng-if="subDetailLot.status == true">
              <p><a style="font-weight: bold">CROP</a> : {{subDetailLot.result.wo_so_job}}</p>
              <p><a style="font-weight: bold">เพาะปลูก</a> : {{subDetailLot.result.wo_part}} ({{subDetailLot.result.pt_desc1}})</p>
              <p><a style="font-weight: bold">วันที่เริ่มปลูก</a> : {{subDetailLot.result.startdate}}</p>
              <p><a style="font-weight: bold">วันที่คาดว่าจะเก็บเกี่ยว</a> : {{subDetailLot.result.enddate}}</p>
              <p><a style="font-weight: bold">ผลผลิต (คาดหวัง)</a> : {{subDetailLot.result.result}} {{subDetailLot.result.pt_um}}</p>
            </div>
            <div ng-if="subDetailLot.status == false || !jobID">
              <p>
                ยังไม่มีการเพราะปลูก
              </p>
            </div>










          </div>


        </div>



      </ion-scroll>
    </div>
  </ion-content>




  <script id="my-modaledit.html" type="text/ng-template">
    <ion-modal-view style="">
        <ion-header-bar>
            <button type="button" class="button button-assertive button-clear" ng-click="closeModalEdit()">close</button>
          <h1 class="title" style="text-align:center">สร้างแปลง</h1>
          <button type="submit" class="button icon ion-trash-a button-assertive button-outline" ng-click="vm.deleteCrop()" ></button>
        </ion-header-bar>
        <ion-content >
          <div class="list " style="border-radius: 15px;">
          
          
            <div class="item item-avatar item-icon-right" ng-click="vm.editmap()">
                <img src="img/ServiceArea.png">
                <h2 style="font-weight: bold">พิกัดแปลง</h2>
                <p>{{PolygonPatch[0].lat}} , {{PolygonPatch[0].lng}}</p>
                <i class="icon ion-chevron-right"></i>
                
              </div>
  
          <div class="list">
             <label class="item item-input item-stacked-label">
              <span class="input-label">ชื่อ Farm</span>
              <input type="text" placeholder="ชื่อ" ng-model="editdata.farm_name">
            </label> 
    

            <div class="row" style="margin-top:5px">
              <div class="col">
    
                <span class="input-label bold" style="width:100%">ผู้ดูแลฟาร์ม </span>
                <select class="form-control sel inp" ng-options="item as item.mob_username+' '+'('+item.mob_fname+' '+item.mob_lname+')'  for item in data.select track by item.mob_fname"
                ng-model="editdata.createname" >
              </select>
                
              </select>
              </div>
            </div> 
             <label class="item item-input item-stacked-label">
              <span class="input-label">รายละเอียด</span>
              <input type="text" placeholder="รายละเอียด" ng-model="model.farm_desc">
            </label>
            <div class="item item-avatar item-icon-right" >
              <img src="img/calendar.png">
              <h2 style="color:#036d8e">วันที่สร้าง</h2>
              <p>{{model.farm_startt}}</p>
              <i class="icon ion-edit"  ng-click="vm.updatepickdate()"></i>
         
            </div>
            <div class="item item-avatar item-icon-right" >
              <img src="img/calendar.png">
              <h2 style="color:#036d8e">วันที่สิ้นสุด</h2>
              <p>{{model.farm_endt}}</p>
              <i class="icon ion-edit"  ng-click="vm.updatepickdateto()"></i>
         
            </div> 
         
            <div></div>
    
          </div>
    
    
          <div class="container">
            <table id="customers">
              <tr>
                <th width="33%" style="text-align:center">ไร่</th>
                <th width="33%" style="text-align:center">งาน</th>
                <th width="33%" style="text-align:center">ตารางวา</th>
              </tr>
              <tr>
                <td><input type="text" ng-model="vm.area.farm" id="inp001" class="form-control" /></td>
                <td><input type="text" ng-model="vm.area.work" id="inp002" class="form-control" /></td>
                <td><input type="text" ng-model="vm.area.wah" id="inp003" class="form-control" /></td>
              </tr>
            </table>
          </div>

          <div class="container" style="margin-top:20px">
            <button type="button" class="button button-balanced button-block" ng-click="vm.createSub()" ng-disabled="checkUpdate()" style="border-radius: 10px;">บันทึก</button>

          </div>
        </ion-content>
      </ion-modal-view>
    </script>


  <script id="my-map.html" type="text/ng-template">
    <ion-modal-view style="">
        <ion-header-bar>
            <button type="button" class="button button-assertive button-clear" ng-click="closeModalMap()">close</button>
          <h1 class="title" style="text-align:center">map</h1>
          <!-- <button type="submit" class="button icon ion-trash-a button-assertive button-outline" ng-click="vm.deleteCrop()" ></button> -->
        </ion-header-bar>
        <ion-content  class="wrapper_all" scroll="false">
         

       
<style>
    .top_float{
/* position:fixed; */
cursor: pointer;
width:68px;
height:68px;
bottom:120px;
right:40px;

color:#FFF;
border-radius:50px;
border:none;
text-align:center;
font-size:34px;
box-shadow: 2px 2px 3px 1px #999;
z-index:100;
outline: 0 !important;
}
    </style>
    <button type="button" class="button button-balanced icon-left ion-checkmark-round" ng-click="vm.save()"
      style="text-align: center;
      position: absolute;
      z-index: 2;
      right: 10px;
      margin-left: 0px;
      border-radius: 10px;
      bottom: 5%;
      width: 40%;
      left: 31%;">บันทึก</button>

      <button type="button" class="button  icon-left ion-edit" ng-click="vm.draw()"  ng-hide="drawCheck"
      style="background: #fff;text-align: center;position:absolute;z-index:2;top:70px;right:10px;margin-left:10px;border-radius: 20px;box-shadow: 0 2px 6px rgba(0,0,0,.3);border:2px solid #fff">{{vm.draw}}วาดพื้นที่</button>
      <!-- <button type="button" class="button icon ion-pinpoint top_float" ng-click="vm.here()"
      style="text-align: center;position:absolute;z-index:2;bottom:5%;left:10px;margin-left:10px;color:black"></button> -->
    <div id="maps"></div>

        </ion-content>
      </ion-modal-view>
    </script>


  <script id="my-detail.html" type="text/ng-template">
    <ion-modal-view style="top: 54%;    min-height: 50%;border-radius: 15px;">
        <ion-header-bar style="text-align:center">
     
          <h1 class="title" >รายละเอียดแปลง</h1>
          <button type="button" class="button button-assertive button-clear button-icon icon ion-close" ng-click="closeModalDetail()"></button>
        </ion-header-bar>
        <ion-content  style="background:#f5f5f5">
         
     <!-- <div class="card " style="border-radius: 10px;    box-shadow: 0 0.1px 3px rgba(0, 0, 0, 0.4);">
      <div class="item item-text-wrap">
          <p>ที่อยู่ : {{crop.farm_village}}  หมู่ที่ {{crop.farm_village_no}}</p>
          <p>จังหวัด : {{crop.farm_province}}  อำเภอ : {{crop.farm_amphur}}</p>
          <p>ตำบล : {{crop.farm_district}}</p>

        </div>
     </div> -->


  <div class="card " style="border-radius: 10px;    box-shadow: 0 0.1px 3px rgba(0, 0, 0, 0.4);">
    <div class="item item-text-wrap">
        <b>แปลงที่ {{subDetail.sup_sub_id}}</b>
        <p>   <img
          ng-src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAACkwAAApMBv+Bu1wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAM3SURBVFiF7ZRPaBxlGMZ/78SZrO5poZWSghcv9V8l9mKgl5I29dJAhaWpSLtWZ3YM5BB6KT0NqD1oacC97M4EOtBioxE8iNJWaKEqIvgHtAaR3izElhIKweruZOf1kEmZbnayI25P5r18M9/7fM/zfO/3fh9sxv895N8uKJfLVqlUeg14A3gymb4hIrOqetb3/eihGXBdd3scx58Cw13JRL5X1QO+7y/m5TTyAiuVSiGO488T8d+Ag8BWYKuqvgzcUNVdwGflctnKy/tIXqBlWW8CO4FfW63WSBiGd1PpTyqVylXLsr4Fhkulkgu8n4c3dwWAVwBE5EQiLrZtT1Sr1UOAhGF4V1VPpLH9NrADIIqiKwCO4xwWkQuqOmfb9qHE3JUE+9TDMNAEKBQKRQBVvd/AhmEIwMrKSjGN7beBHwHa7fY4QBAEH6jqYRGZaDQacwCmaY4DiMgPeUlzNyFwHtgLOEAAaBAEc6m8qKqdwuaK3BUoFosfAbdVdZdt2wc689VqdRx4Afij2Wx+3HcDMzMzfwGnAUTklOd599d6nmeo6jvJ7+kwDP/Oy5v5EjqOcxPYnrlw9ew/BLBte0JELmyg87vv+0/kNuA4znPATxsQAtyJouhpANM0F4AtG4FV9dkgCH7pnM9qwtFkPOf7/pF0wvM8Y3Fx8WtVfdE0zVPJddwCfDM0NLTb87y4YzPngFdFZBRYZyCrB8YS1190JjzPi0XEBlrA6yJyDGipqt0pDiAiaxxj3YTWGZienn4U2APowMDApW6L6vX6deBtVo9QROStbuUFaLfblwAF9kxNTQ32NLC8vDwCFICf6/X67W6kAIODg+8CC8CCZVnvZeFmZ2dvAdeBx6IoGulpwDCMfaxu63IWKUCtVmuKyNE4jo/UarVeT+9lAFVddwzdmvClZLzYg5RGo/FdL0wifFFEjqvqfuBkOvdABSYnJ7cBzwN/Li0tfZmHPE9EUfQVcA8Ydl338UwDURSNstpY1+bn51v9MpC8jNcAieN4b6YBEdmXfK67fv811q5jSgN4sAcE2J98n3Ec50w/Dajq2jiWaCmkKuC67jPAtn6KZsRQorUZmwHAPylaJT32wwBUAAAAAElFTkSuQmCC"
          style="
          top: 3px;
          position: relative;
          height: 20px;
          width: 20px;
          "> {{subDetail.sub_area_farm}} ไร่  {{subDetail.sub_area_work}} งาน {{subDetail.sub_area_wah}} ตารางวา</p>
         <p>ที่อยู่ : {{crop.farm_village}}  หมู่ที่ {{crop.farm_village_no}} จังหวัด {{crop.farm_province}}  
           อ. {{crop.farm_amphur}} ต. {{crop.farm_district}}</p>


      </div>
</div>


<div class="card " style="border-radius: 10px;    box-shadow: 0 0.1px 3px rgba(0, 0, 0, 0.4);">
    <div class="list" ng-click="vm.search(subDetail)" ng-if="subDetail.iot_id == 'ยังไม่ได้เชื่อมต่ออุปกรณ์'">

        <a class="item item-icon-right" >
          <b>เชื่อมต่ออุปกรณ์</b>
          <p>
              {{subDetail.iot_id}}
            </p>
          <i class="icon">
<img style="height:40px"  src="data:image/png;base64,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">

          </i>
        </a>
      </div>
      <div class="list" ng-click="vm.disconnect(subDetail)" ng-if="subDetail.iot_id != 'ยังไม่ได้เชื่อมต่ออุปกรณ์'">

        <a class="item item-icon-right" >
          <b>เชื่อมต่ออุปกรณ์</b>
          <p>
              {{subDetail.iot_id}}
            </p>
          <i class="icon">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAFJgAABSYBrL2e5wAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAexSURBVHic7ZtprFXVFcd/F95DURksggwqiEOs8/CsYkgVxahJg+MXkLRpUWtqEDWi4tAixSrVGMVonF5pKzUah6T1k4kUjZYoRBM/GFuRh20cAAGNOD158PfDXidns+8+555z732XZ3pXcr6saa//vntYe+19oU1t+r+myu4OoBYJBgEnAScDY4BOYBOwFlhZgW92Y3j9R4IRgtsFGwTK+L4SLBccVm87A3IECM4FlgOjjPUh8DLQA2wHJgCnAsfhMPQBi4FFFVCr420qCa4UbLdfeIVgao7uRMHDgu9M/0nBkFbG21QS/NaA7BDMK2E3RbDRbF8UDO3POPuFBPM98L+qw/4YrxOe0gCd3lES3JgHXlARnCG4Q3CXYJZgz4je0YKt5uuW1kS/awBDBY8IZpewubkG+AMFb0R2gA2CsyL6Z9oa0iuY3Cim0PleNk9/nCGfbEB6BUcW8HerB35ORD5RsN50PhbcbVvjauP1CmZE7B43+V/qQ5od8AxzvFFwdIbOw6bzqiUxWb7mFwDfYzqvCX7kyQYL7vU6YVpgO1mwU7BNsEcjmMOghghesIY3CY6J6Iy0X0uCX2f4+ZkB3ym4LCIPwQ+L6FQED5nO/8I1QfCmyc5uBHMs+D0KdMIlJv9cMD6QjfA66MaIbU3wnm6n4G3TvSSQPWj8qxrBm9VwkZHwd5MvC/jJXl81RQQHeeD/lQfes7nD9H8f8G8x/uI8+8w5mkcV+A64GHgBGI3L2I4N1K4C1gObvaAqpPN9YQV2erLxwErgYGAVcG4FthUIJ+mkbwN+Mvd7C/ioj2wk/MMbCWEnhPrHmu4HChIVwUqTrRIML9j+GKXJz08D2TLjV60xTSXrhGS4fyLoyNH9pek9EfBPMf5WwdiC7Y4UrDG7VwJZxRZGCU6sD1l1g8MEvxDsHZENkdt7c1NQpUnP4oB/rfG7C8YyUmku8J+w0+SyRgk+zIunFHnBr5c7rtbj4zbzsSjg/9H48wv48MG/F9llKjaNJFhYT5xZDU8SvK40Ff2bXIWmjI/fmO2jHu9UwRexeRyxD8FPiOgku8zGIrtIKRIMEsz1At4i+HkJ+9PMbq2gQ3CyXK5QtS5EbIuAny2XYPUJzqkHY1EgB3qrv1Tw0GGg/2s22yxQCZ6Vq/Vl2Y1TeiDKAn+p529uI/gKk+B8wTyVyCcEJwret0C3C5YqsnMIpsqdF7oFn3kjpxb4quxywJHcYWayYL+IrEPwJ290Jd8Kwf4R/Vk/KPB5ZOCfVnqOuFNui/xJhr4P/qZWx+sHcqQFc41cdWeuXHIzuKSfpUoToq4aujN3K3jBPnIHjuTwEvs+kLvUKOJvlNJKTqaNTZ/bbLWXYEHzUBUkwXlKc3AJPhL8VXCPXM2u2+uYtUUWScEhStPpqpEjl+BM93aDPpWoHDeNbJgnQ+81C6oKoM3npJMmFfA7SLDO9HusE++yb3kw0jaozmy0IdKuBcyblJ/3d8ldWPQKRhT036U0T4h96yyGqvNIv5NggTf0ZtbQ7VJanr6vZDuDbQGdawvqNbbAHtEYggaoCHgL+jrBEqXp7dPKOR7/IMiGegJ+VkQ+VvDPyHDtjoEXjBYc0JroG6QC4A+wVT7Zu7vl0teqC025AuYD3gL6ruCEkvGMEFygZpa6cxq7ugT415VTyTHwz5pur+BTpbWFwlNEbpuV4N+qcXRuiOT2+T5b7S+NyCd44N+otcrL1Q4kd6jpsg5JDkRTSsR1hNIy+E7BY4J968GY18hwuQKnFLlgNPDveeBH1vA3zXS/kHvUkPC7jR+9PMnx12lT82ulidPFZXzUamCROX5V1ZVbH/zqWuDNJrn5XRLwk3r+zXXGeajgJW80jKptVdtpRemtzdRANq4seLNLytNXB/wlKnCElbsseVTxy5eKXI7QnPOAXIlKchcaYUOr6gA/VmkxoyuQPWX83JKaYI7pbRYcXx5VCRJcYY09HvCnG/9TRYoSGb6Ge522IpD5dfujavjpFDzfkk5QWlG9PeD/zvj3F/Tjg18nGBfIzzZZT8AfaiNjXsDvFDzndUKp/KEwZS1MHn9Rlq2nG4I/KJAP8uQLAtl4uQNUn4IqUEs6Qe4AIsHSgD/T+G8p/+prmNytbhS86SQnyo8Uv/e/0+RvK6gUa9eEakvTO0FwjjlfE/D3Vro7PJhh64PvyQB/udyWtUNwXoafoUqTrKpSV6QTmnP3Z873FHxpQU4KZNPl0ljJPU/p8GSj5YojeeAvU1rGur5GHGdZDF8LDo3I/U5Y2wDkaONPmONlEdkMrxPeEfxB7iXGFg/8xIidD77Q8zXBn03/mQx5cri6tTzK/IYPMZA7FCk7yd28xqo2Lym4qDT9OaqjgClXJF2j4OVHS0jpLe5WRfZpmyoXyaXNCwSnZfjxwd/Q/5E3ieQSleSCYqMiaWgBHz743Dk/IEmuNpccY7cJLixhd7/Z7RBc3t+x9hvJvfx40sD0yZ2/qy4nPf0p3la4XXBlK+Oth2o+H5HTWYjLDjtwL7veAlYDnxjvYOB00h1gMzC7Ai82P+TdRILDbUokhYjYt0GwUAVfeQ0EKv2ASO7PCNNw/9MZg/sLyyZc9vim//avTW1qU5va1KY2DWj6HoV75zR2gm3zAAAAAElFTkSuQmCC" style="height:40px">

          </i>
        </a>
      </div>

</div>
<br>
<br>




        </ion-content>
      </ion-modal-view>
    </script>


  <script id="pic_desc.html" type="text/ng-template">
    <ion-modal-view>
        <ion-header-bar style="text-align:center;background:white">
     
          <h1 class="title" >รายละเอียดรูปภาพ</h1>
          <button type="button" class="button button-assertive button-clear button-icon icon ion-close" ng-click="closeModalPic()"></button>
        </ion-header-bar>
        <ion-content  style="background:#f5f5f5">
         
          <div class="card">
          <img style="width:100%;height:100%" ng-src="{{image}}">
          </div>

          <div class="container">
     
            <label class="item item-input">
              <textarea placeholder="รายละเอียด" rows="10" ng-model="vm.pic_desc"></textarea>
            </label>
          <button type="button" class="button button-positive button-block" style="border-radius: 10px;" ng-click="vm.pushpick()">เพิ่มรูป</button>

          </div>


        </ion-content>
      </ion-modal-view>
  </script>

  <script id="list_map.html" type="text/ng-template">
    <ion-modal-view>
      <ion-header-bar style="text-align:center;background:white">
   
        <h1 class="title" >รายการแปลง</h1>
        <button type="button" class="button button-assertive button-clear " ng-click="closeModalListmap()">Close</button>
      </ion-header-bar>
      <ion-content  style="background:#f5f5f5">
       
        <div class="card" style="height:110px;display: flex;
        flex-flow: row wrap;" ng-repeat="k in subfarm" ng-click="vm.selectSubBefore(k,$index)">

      <div style="height: 100%;
                width: 30%;">
        <!-- <img style="height: 100%;
                        width: 100%;
                        padding: 4px;
                        max-width:200px;" src=""> -->
                        <div id="{{$index}}" class="map_list"></div>
      </div>

      <div style="height: 100%; width: 70%;display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;" >

        <div style="font-weight:bold;font-weight: bold;
        font-size: 18px;">พื้นที่ {{crop.farm_name}} แปลงที่ {{k.sup_sub_id}}</div>
        <div> {{k.sub_area_farm}} ไร่ {{k.sub_area_work}} งาน {{k.sub_area_wah}} ตารางวา</div>
     

  
      </div>

    </div>

      </ion-content>
    </ion-modal-view>
</script>




</ion-view>
