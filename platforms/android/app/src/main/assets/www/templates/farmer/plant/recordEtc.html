<ion-view hide-back-button="false" cache-view="false">
  <ion-nav-buttons side="left">
    <button  class="button button-clear ion-chevron-left" ui-sref="app.farming" style="font-weight: 400;"> Back</button>
  </ion-nav-buttons>
  <ion-nav-title> รายการ </ion-nav-title>
  <ion-nav-buttons side="right">
    <button class="button button-positive" ng-click="vm.button()">Scan</button>
  </ion-nav-buttons>
  <ion-content style="">
    <style type="text/css">
      div.img-resize img {
        width: 100%;
        height: auto;
      }

      div.img-resize {
        width: 100%;
        height: auto;
        overflow: hidden;
        text-align: center;
      }
      .slider-pager {
        position: absolute;
        bottom: 20px;
        z-index: 1;
        width: 100%;
        height: 15px;
        text-align: center;
        display: none;
      }
      .spinner svg {
        width: 50px !important;
        height: 50px !important;
      }
    </style>

  
<div style="text-align: center;margin-top:20px" ng-hide="vm.status == true || vm.status == false">
  <ion-spinner icon="spiral"></ion-spinner>
</div>

    <div class="list " ng-if="vm.data.status !== true">

      <div class="list list-inset">
        <label class="item item-input">
          <i class="icon ion-search placeholder-icon"></i>
          <input type="text" placeholder="ค้นหา" ng-model="searchText">
        </label>
      </div>

      <div
        class="item"
        ng-repeat="x in vm.list.result | filter:searchText"
        ng-click="vm.clickList(x)"
      >
        <div><a style="font-weight: bold;">{{x.pt_um}}ที่ :{{x.ld_rmks}} </a> <a>{{x.pt_desc1}} </a> </div>
        <p>
          <a> พื้นที่ : </a> <a>{{x.farm_name}} </a> <a> พิกัด </a>
          <a>{{x.ld_area_rfid}},{{x.ld_read_back}} </a>
        </p>
      </div>
    </div>

    <!-- <div class="list " ng-if="vm.data.status == true">
      <div class="item item-button-right">
        <h2>{{vm.data.result[0].pt_desc1}}</h2>
        <p>
          <a>{{vm.data.result[0].pt_um}}ที่ : </a>{{vm.data.result[0].ld_rmks}}
        </p>
     
        <button class="button button-positive button-clear" ng-click="vm.refreshPic()">
          <i class="icon ion-refresh"></i>
        </button>
      </div>

      <div class="item item-body">
        <div style="font-weight: bold;font-size: large;padding-bottom: 16px;">
          รายละเอียด
        </div>
        <div
          style="display: flex;
        flex-direction: row;
        flex-flow: wrap;"
        >
          <div style="    width: 50%;">
            <a style="font-weight: bold">หมวด</a> :
            <a>{{vm.data.result[0].description}} </a>
          </div>
          <div style="    width: 50%;">
            <a style="font-weight: bold">หมวดย่อย</a> :
            <a>{{vm.data.result[0].pt_group_desc}} </a>
          </div>
          <div style="    width: 50%;">
            <a style="font-weight: bold">พันธุ์</a> :
            <a>{{vm.data.result[0].comments}} </a>
          </div>
          <div style="    width: 50%;">
            <a style="font-weight: bold">LOT</a> :
            <a>{{vm.data.result[0].ld_lot}} </a>
          </div>
          <div style="    width: 50%;">
            <a style="font-weight: bold">พื้นที่</a> :
            <a>{{vm.data.result[0].farm_name}}</a>
          </div>
          <div style="width: 50%;">
            <a style="font-weight: bold">ที่อยู่</a> :
            <a>
                  {{vm.data.result[0].vdad_line1}} 
                  {{vm.data.result[0].vdad_line2}}

            </a>
          </div>

          <div style="width: 50%;">
            <a style="font-weight: bold">ผู้ดูแล</a> :
            <a>
              {{vm.data.result[0].vd_sort}}
            </a>
          </div>
        </div>
      </div>

      <div class="item item-icon-right" ng-click="vm.openMap()">
        <div
          style="    font-size: large;
        font-weight: bold;
        color: black;"
        >
          แผนที่,พิกัด
        </div>
        <i class="icon">
          <img
            style="width: 40px;
            height: 40px;"
            src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Google_Maps_icon.svg/1200px-Google_Maps_icon.svg.png"
          />
        </i>
      </div>

      <div
        class="list "
        ng-if="vm.data.status == true"
        style="display: flex;
      justify-content: space-between;"
      >
        <div
          style="font-size: large;font-weight: bold;padding: 10px;display: flex;
    flex-direction: row;
    justify-content: space-between;"
        >
          <a></a
          ><a style="    color: #387ef5;" ng-click="vm.record()"
            >เพิ่มรูปภาพ <i class="icon ion-plus"></i
          ></a>
        </div>
        <div
          style="font-size: large;font-weight: bold;padding: 10px;display: flex;
      flex-direction: row;
      justify-content: space-between;"
          ng-if="vm.pic"
        >
          <a></a
          ><a style="    color:yellow;"  ng-click="rotate(90)"
            >กลับด้าน <i class="icon ion-arrow-return-left"></i
          ></a>
        </div>
        <div
          style="font-size: large;font-weight: bold;padding: 10px;display: flex;
      flex-direction: row;
      justify-content: space-between;"
          ng-if="vm.pic"
        >
          <a></a
          ><a style="    color:red;" ng-click="vm.deletePic($event)"
            >ลบรูป <i class="icon ion-trash-a"></i
          ></a>
        </div>
      </div>



      <ion-slide-box
        show-pager="true"
        active-slide="activeSlide"
        style="text-align:center;height:100%;width:100%;margin-top:20px"
        ng-if="vm.data.status == true"
      >
        <ion-slide ng-repeat="x in vm.pic">
          <div class="img-resize">
            <img  id="image{{$index}}" class="img-responsive{{$index}}" ng-src="{{x.path}}" />
            <div class="list ">
              <div class="item">
                <div
                  style="display: flex;
                justify-content: space-between;"
                >
                  <div
                    style="font-weight: bold;font-size: large;padding-bottom: 16px;text-align: left;"
                  >
                    รายละเอียด
                  </div>
                  <div>{{x.pic_date}}</div>
                </div>

                <div style="text-align: left;">{{x.pic_desc}}</div>
              </div>
            </div>
          </div>
        </ion-slide>

        <ion-slide ng-if="!vm.pic">
          <div class="img-resize">
            <img
              ng-src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/1200px-No_image_available.svg.png"
            />
          </div>
        </ion-slide>
      </ion-slide-box>
    </div> -->
<!-- 
    <div
      ng-if="vm.list.status == true && !vm.data"
      style="    text-align: center;
    font-size: large;margin-top:10px"
      ng-click="showMore()"
    >
      แสดงเพิ่มเติม
    </div> -->
    <br />


  
  </ion-content>
</ion-view>
